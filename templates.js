export const Templates = { registerTemplates(doc){ this.app = doc.getElementById('app'); this.templates = {}; doc.querySelectorAll('template').forEach(tpl=>{ this.templates[tpl.id] = tpl.innerHTML; }); }, render(tplId){ if(!this.templates[tplId]) return; this.app.innerHTML = this.templates[tplId]; const main = document.getElementById('main'); if(main) main.focus(); window.dispatchEvent(new CustomEvent('view:changed',{detail:{view:tplId}})); } };