import {router, mountRoutes} from './router.js'; import {Templates} from './templates.js'; import {Cadastro} from './cadastro.js'; import {Projetos} from './projetos.js'; Templates.registerTemplates(document); Cadastro.init(); Projetos.init(); mountRoutes({'/': () => Templates.render('tpl-home'), '/projetos': () => Templates.render('tpl-projetos'), '/cadastro': () => Templates.render('tpl-cadastro')}); router();\nexport function mountRoutes(map){ window.__routes = map; } export function router(){ function resolve(){ const path = location.hash.replace('#','') || '/'; const handler = window.__routes[path]; if(handler) handler(); else window.__routes['/'](); } window.addEventListener('hashchange', resolve); window.addEventListener('load', resolve); }